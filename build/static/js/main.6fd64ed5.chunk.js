(this["webpackJsonpbeerb-order"]=this["webpackJsonpbeerb-order"]||[]).push([[0],{119:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(23),s=n.n(r),o=(n(119),n(52),n(53),n(10)),i=n(1),l=n(6),b=n(128),j=n(9),d=n(11),u=n(14),h=n(13),m=n(2),O=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"headers-container",children:[Object(m.jsx)(p,{}),Object(m.jsx)(x,{})]})}}]),n}(c.a.Component),p=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"homepage-header",children:[Object(m.jsx)("div",{className:"logo"}),Object(m.jsx)("p",{children:"Take your time to go through the selection, we are sure you\u2019ll find something tasty!"})]})}}]),n}(c.a.Component),x=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"homepage-header",children:[Object(m.jsx)("h1",{children:"Your order"}),Object(m.jsx)("p",{children:"Here is everything you need to know about your order:"})]})}}]),n}(c.a.Component),f=n(47),v=n(130),k=n(133),y=n(134),g=n(131),N=n(95),C=N.a.TabPane;function T(e){console.log(e)}var B=v.a.Meta;function S(e){var t=Object(a.useState)(0),n=Object(l.a)(t,2),c=n[0],r=n[1];function s(e){c>0&&r((function(e){return e-1}))}function o(e){r((function(e){return e+1}))}var i=Object(a.useState)(!1),b=Object(l.a)(i,2),j=b[0],d=b[1];return Object(m.jsxs)("div",{className:"beer-inventory",children:[Object(m.jsxs)(v.a,{hoverable:!0,style:{width:150},cover:Object(m.jsx)("img",{onClick:function(){d(!0)},alt:"example",src:""+"/beers/".concat(e.label)}),children:[Object(m.jsx)(B,{title:e.name,description:e.category}),Object(m.jsx)("p",{className:"store-item-price",children:"75 DKK"}),Object(m.jsxs)("div",{className:"beer-add",children:[Object(m.jsx)(k.a,{onClick:s}),Object(m.jsx)("h1",{children:c}),Object(m.jsx)(y.a,{onClick:o})]}),Object(m.jsx)(f.a,{onClick:function(){return e.addToBasket(e,c)},className:"button btn-black beer-button",type:"primary",children:"Add to cart"})]}),Object(m.jsxs)(g.a,{className:"beersdetailsmodal",title:"Beerdetails",visible:j,onOk:function(){d(!1)},onCancel:function(){d(!1)},children:[Object(m.jsx)("aside",{children:Object(m.jsx)("img",{src:""+"/beers/".concat(e.label),alt:"beer label"})}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"beer-details-heading",children:[Object(m.jsx)("h1",{children:e.name}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:e.category}),Object(m.jsxs)("h2",{children:[e.alc,"% alc"]})]})]}),Object(m.jsxs)("div",{className:"addingtobasket",children:[Object(m.jsx)(k.a,{className:"butt-add",onClick:s}),Object(m.jsx)("h1",{children:c}),Object(m.jsx)(y.a,{className:"butt-add",onClick:o}),Object(m.jsx)(f.a,{onClick:function(){return e.addToBasket(e,c)},className:"button btn-black beer-button",type:"primary",children:"Add to cart"})]}),Object(m.jsxs)("div",{className:"beerInfo",children:[Object(m.jsx)("h1",{children:"Overall Impression"}),Object(m.jsx)("p",{children:e.description.overallImpression}),Object(m.jsxs)(N.a,{defaultActiveKey:"1",onChange:T,children:[Object(m.jsx)(C,{tab:"Aroma",children:e.description.aroma},"1"),Object(m.jsx)(C,{tab:"Appearance",children:e.description.appearance},"2"),Object(m.jsx)(C,{tab:"Flavor",children:e.description.flavor},"3"),Object(m.jsx)(C,{tab:"Mouthfeel",children:e.description.mouthfeel},"4")]})]})]})]})]})}function P(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){fetch("https://beerb.herokuapp.com/").then((function(e){return e.json()})).then((function(e){return function(e){var t=[];e.forEach((function(e){t.includes(e.beer)||(t.push(e.beer),r(t))}))}(e.taps)}))}),[]),Object(m.jsx)("main",{className:"inventory-container",children:e.beers.map((function(t){return c.map((function(n){return n===t.name?Object(a.createElement)(S,Object(i.a)(Object(i.a)({addToBasket:e.addToBasket},t),{},{key:t.name,total:e.total})):null}))}))})}var w=function(e){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(P,{beerPrices:e.beerPrices,total:e.total,beers:e.beers,addToBasket:e.addToBasket})})};function A(e){return Object(m.jsxs)("section",{className:"MyBasket",children:[Object(m.jsx)("ul",{children:e.basket.map((function(t){return Object(m.jsx)(E,{total:e.total,name:t.name,category:t.category,amount:t.amount,label:t.label},t.name)}))}),Object(m.jsxs)("div",{className:"total-basket",children:[Object(m.jsx)("h2",{children:"Total:"}),Object(m.jsxs)("h2",{className:"totalamount-basket",children:[e.total," kr"]})]})]})}function E(e){var t=Object(a.useState)(e.amount),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(75*c),o=Object(l.a)(s,2),i=o[0],b=o[1];function j(){b(75*c)}return Object(m.jsxs)("li",{className:"basket-display",children:[Object(m.jsx)("img",{className:"image-basket",src:""+"/beers/".concat(e.label),alt:"beerlabel"}),Object(m.jsx)("p",{className:"itemname-basket",children:e.name}),Object(m.jsxs)("div",{className:"beer-add",children:[" ",Object(m.jsx)(k.a,{onClick:function(t){e.amount>0&&r((function(e){return e-1})),j()}}),Object(m.jsx)("p",{children:c}),Object(m.jsx)(y.a,{onClick:function(e){r((function(e){return e+1})),j()}})]}),Object(m.jsxs)("p",{className:"localtotalprice-basket",children:[i," kr"]})]})}var F=function(e){return Object(m.jsx)("div",{className:"Basket",children:Object(m.jsx)(A,{total:e.total,basket:e.basket})})};function I(){window.location.reload(!1)}function L(e){return Object(m.jsx)("div",{className:"step-container step-container-1",children:Object(m.jsx)(w,{beerPrices:e.beerPrices,total:e.total,beers:e.beers,basket:e.basket,addToBasket:e.addToBasket})})}function Y(e){return console.log("current number:"+e.current),console.log("number of items in the basket:"+e.basket.length),0===e.basket.length?(console.log("0 items in the basket"),Object(m.jsx)("div",{className:"step-container step-container-2",children:Object(m.jsx)("p",{className:"placeholder-basket",children:"Aren't you finding your best beer match? Ask our staff for recommendation!"})})):1===e.basket.length&&0===e.current?(console.log("1 item in the basket, current = 0"),e.next(),Object(m.jsxs)("div",{className:"step-container step-container-2",children:[Object(m.jsx)(F,{beerPrices:e.beerPrices,total:e.total,beers:e.beers,basket:e.basket,addToBasket:e.addToBasket}),Object(m.jsx)(f.a,{className:"button btn-yellow",type:"primary",onClick:function(){return e.handlemodal()},children:"Place order"})]})):e.basket.length>0&&e.current>0?(console.log("at least 1 item in the basket, current = 0"),Object(m.jsxs)("div",{className:"step-container step-container-2",children:[Object(m.jsx)(F,{beerPrices:e.beerPrices,total:e.total,beers:e.beers,basket:e.basket,addToBasket:e.addToBasket}),Object(m.jsx)(f.a,{className:"button btn-yellow",type:"primary",onClick:function(){return e.handlemodal()},children:"Place order"})]})):null}function D(e){return 2===e.current&&setTimeout((function(){e.next(),function(e){var t=5;console.log(e.orderNumber);var n=g.a.success({title:"Your order is ready!",content:Object(m.jsxs)("div",{className:"orderpickup-modal",children:[Object(m.jsxs)("p",{children:["You can now pickup your order at the bar! ",Object(m.jsx)("br",{}),"Just tell Jonas your order ID."]}),Object(m.jsx)("p",{className:"queue-number-text",children:" Order id: #"}),Object(m.jsx)("div",{className:"cheers-svg-container",children:Object(m.jsx)("div",{className:"cheers-icon"})})]})}),a=setInterval((function(){t-=1}),1e3);setTimeout((function(){clearInterval(a),n.destroy()}),1e3*t)}(e),e.post()}),3e3),Object(m.jsxs)("div",{className:"step-container step-container-3",children:[Object(m.jsx)("p",{children:"Give us some time to finish your order."}),Object(m.jsx)("p",{children:Object(m.jsx)("strong",{children:"We\u2019ll notify you once it\u2019s ready for pickup!"})})]})}function M(e){return 3===e.current&&setTimeout((function(){e.next()}),1e3),Object(m.jsx)("div",{className:"step-container step-container-4",children:e.current>2&&Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["You can now pickup your order at the bar! ",Object(m.jsx)("br",{}),"Just show your order ID."]})," ",Object(m.jsx)("p",{className:"queue-number-text",children:"Order id: #"})]})})}function q(e){return Object(m.jsx)("div",{className:"step-container step-container-4",children:e.current>3&&Object(m.jsx)(f.a,{className:"button btn-yellow",type:"primary",onClick:I,children:"Order again"})})}var J=n(129),K=n(132),V=n(90),U=n(110),W=n.n(U),G=n(135);function H(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),o=Object(l.a)(s,2),i=o[0],b=o[1],j=Object(a.useState)(""),d=Object(l.a)(j,2),u=d[0],h=d[1],O=Object(a.useState)(""),p=Object(l.a)(O,2),x=p[0],v=p[1],k=Object(a.useState)(!1),y=Object(l.a)(k,2),N=y[0],C=y[1],T=Object(a.useState)(!1),B=Object(l.a)(T,2),S=B[0],P=B[1],w=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=/^[0-9]+$/,t=16===i.replaceAll(" ","").length&&i.replaceAll(" ","").match(e),n=4===u.replace("/","").length&&u.replace("/","").match(e),a=3===x.length&&x.match(e);C(w.current.checkValidity()&&t&&n&&a)}),[c,i,u,x]),Object(m.jsx)("div",{children:Object(m.jsx)(g.a,{destroyOnClose:!0,title:"Payment",visible:e.visible,onCancel:e.handlemodal,className:"payment-modal",children:Object(m.jsxs)(W.a,{isFlipped:S,children:[Object(m.jsxs)("form",{ref:w,children:[Object(m.jsxs)("div",{className:"payment-modal-header",children:[Object(m.jsx)("h1",{children:"Payment"}),Object(m.jsx)("p",{children:"Please enter your card information here."})]}),Object(m.jsxs)("div",{className:"payment-grid",children:[Object(m.jsxs)("div",{className:"form-layout div1",children:[Object(m.jsx)("label",{htmlFor:"cardnumber",children:"Card number"}),Object(m.jsx)(V.a,{mask:"1111 1111 1111 1111",value:i,className:"ant-input",onChange:function(e){return b(e.target.value)},required:!0})]}),Object(m.jsxs)("div",{className:"form-layout div2",children:[Object(m.jsx)("label",{htmlFor:"name",children:"Cardholder's name"}),Object(m.jsx)(J.a,{id:"name",type:"text",required:!0,minLength:"2",maxLength:"26",value:c,onChange:function(e){return r(e.target.value)}})]}),Object(m.jsxs)("div",{className:"form-layout div3",children:[Object(m.jsx)("label",{htmlFor:"expirydate",children:"Expiry date (MM/YY)"}),Object(m.jsx)(V.a,{mask:"11/11",className:"ant-input",required:!0,value:u,onChange:function(e){return h(e.target.value)}})]}),Object(m.jsxs)("div",{className:"form-layout div4",children:[Object(m.jsx)("label",{htmlFor:"cvv",children:"CVV"}),Object(m.jsx)(V.a,{mask:"111",value:x,className:"ant-input",onChange:function(e){return v(e.target.value)},required:!0})]})]}),Object(m.jsx)(f.a,{className:"completePaymentbutton",type:"primary",htmlType:"submit",disabled:!N,onClick:function(e){e.preventDefault(),P(!0)},children:"Complete payment"})]}),Object(m.jsx)(K.a,{title:"Thank you!",subTitle:"PAYMENT COMPLETED SUCCESSFULLY",icon:Object(m.jsx)(G.a,{}),extra:[Object(m.jsx)("div",{className:"payment-modal-thankyou-extra",children:Object(m.jsx)("p",{children:"We'll notify you when the order is ready for pickup."})},"header"),Object(m.jsx)(f.a,{className:"btn-black",type:"primary",onClick:function(t){t.preventDefault(),e.handlemodal(),e.next(),document.getElementsByClassName("App")[0].classList.add("page-slide-to-left")},children:"Back to page"},"console")]})]})})})}var R=b.a.Step,$=[{step:1,title:"Select your beer",current:0,content:function(e,t,n,a,c,r,s,o){return Object(m.jsx)(L,{total:e,basket:t,beers:n,addToBasket:a,next:c,current:r,handlemodal:s,handlemodal2:o})}},{step:2,title:"Place your order",current:1,content:function(e,t,n,a,c,r,s,o,i){return Object(m.jsx)(Y,{total:e,basket:t,beers:n,addToBasket:a,next:c,current:r,handlemodal:s,handlemodal2:o,post:i})}},{step:3,title:"A bit of a patience",current:2,content:function(e,t,n,a,c,r,s,o,i,l){return Object(m.jsx)(D,{total:e,basket:t,beers:n,addToBasket:a,next:c,current:r,handlemodal2:o,post:i,orderNumber:l})}},{step:4,title:"Pick up your order ",current:3,content:function(e,t,n,a,c,r,s,o,i){return Object(m.jsx)(M,{total:e,basket:t,beers:n,addToBasket:a,next:c,current:r,handlemodal2:o,post:i})}},{step:5,title:"Enjoy and repeat!",current:4,content:function(e,t,n,a,c,r,s,o,i){return Object(m.jsx)(q,{total:e,basket:t,beers:n,addToBasket:a,next:c,current:r,handlemodal2:o,post:i})}}];function z(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),j=s[0],d=s[1],u=Object(a.useState)(!1),h=Object(l.a)(u,2),p=h[0],x=h[1],f=Object(a.useState)([]),v=Object(l.a)(f,2),k=v[0],y=v[1],g=Object(a.useState)([]),N=Object(l.a)(g,2),C=N[0],T=N[1],B=Object(a.useState)(0),S=Object(l.a)(B,2),P=S[0],w=S[1];function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=C.findIndex((function(t){return t.name===e.name}));if(-1===n){var a=Object(i.a)({},e);a.amount=t,T((function(e){return[].concat(Object(o.a)(e),[a])})),E()}else{var c=C.map((function(n){return n.name===e.name&&(n.amount=t),n}));T(c),E()}}function E(){var e=0;w(C.forEach((function(t){console.log(t.amount),e+=t.amount}))),w(75*e)}function F(){c(n+1)}Object(a.useEffect)((function(){fetch("https://beerb.herokuapp.com/beertypes").then((function(e){return e.json()})).then(y)}),[]);var I=function(){console.log("handlmodal1"),d(!j)},L=function(){console.log("handlmodal22222"),x(!p)};function Y(){var e=C.map((function(e){return{name:e.name,amount:e.amount}}));console.log(e);var t=JSON.stringify(e);fetch("https://beerb.herokuapp.com/order",{method:"post",body:t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(e){return e.json()})).then((function(e){"added"===e.message&&(console.log(e),T([]))}))}return Object(m.jsxs)("div",{className:"orderflow",children:[Object(m.jsx)(O,{}),!0===j&&Object(m.jsx)(H,{handlemodal:I,visible:j,next:F}),Object(m.jsx)(b.a,{current:n,children:$.map((function(e){return Object(m.jsx)(R,{title:e.title},e.title)}))}),Object(m.jsx)("div",{className:"steps-content-container",children:$.map((function(e){return Object(m.jsxs)("div",{className:"steps-content ".concat(e.step!==n+1),children:[" ",e.content(P,C,k,A,F,n,I,L,Y)," "]},e.title)}))})]})}var Q=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(z,{})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,136)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(m.jsx)(Q,{}),document.getElementById("root")),X()},52:function(e,t,n){}},[[126,1,2]]]);
//# sourceMappingURL=main.6fd64ed5.chunk.js.map